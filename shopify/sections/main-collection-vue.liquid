{%- assign collection_sort_by = collection.sort_by | default: collection.default_sort_by -%}
{%- assign active_filters_count = 0 -%}

{%- for filter in collection.filters -%}
  {%- if filter.type == 'list' -%}
    {%- assign active_filters_count = active_filters_count | plus: filter.active_values.size -%}
  {%- elsif filter.type == 'price_range' and filter.min_value.value or filter.max_value.value -%}
    {%- assign active_filters_count = active_filters_count | plus: 1 -%}
  {%- endif -%}
{%- endfor -%}
{{ 'main-collection-all.css' | asset_url | stylesheet_tag }}
<div class="zkh-collection-skeleton js-skeleton-screen container">
  <div class="skeleton-screen">
    {%- render 'skeleton-collection'-%}
  </div>
</div>
<div class="w-full js-topheader-mob fb-sm:bg-white">
  <div class="w-full container">
    {% render 'collection-top-public', collection: collection %}
  </div>
</div>
<section class="zkh-collection-main js-collection-main hidden bg-F9F9F9">
  <div class="w-full fb-sm:bg-white">
    <div class="{{ section.id }} container fb-sm:pt-2 js-topheader-mob">
      {%- if collection.handle != 'all' -%}
        <div class="js-categories pb-10 hidden">
          <div class="js-categories-list grid grid-cols-2 fb-sm:grid-cols-6 fb-sm:border-l fb-sm:border-F0F0F0">
          </div>
        </div>
      {%- endif -%}
    </div>
  </div>
  <div class="js-collecition-menu new-mob-facet-filters px-4 fb-sm:hidden">
    {% render 'facet-filters-newcol' %}
  </div>
  <product-facet-spu  section-id="{{ section.id }}" class="container product-facet-spu block fb-sm:flex fb-sm:justify-center fb-sm:bg-F9F9F9 fb-sm:mt-9">
    <div class="w-0 flex-none fb-md:mr-10 hidden fb-sm:block fb-md:w-21r relative">
      <safe-sticky-header  class="product-facet__aside-inner fb-md:sticky fb-md:top-[30px]">
          {% render 'facet-filters-collection' %}
      </safe-sticky-header>
    </div>
    <div id="facet-main" class="product-facet__main anchor" role="region" aria-live="polite">
        <div class="fixed left-0 hidden top-[36%] z-8 bg-button rounded-sm shadow-[2px_2px_4px_rgba(0,0,0,0.2)] fb-sm:flex fb-md:hidden">
          <button
            is="toggle-button"
            class="bg-button p-2.5"
            aria-expanded="false"
            aria-controls="facet-filters"
          >
            {%- render 'icon' with 'filters' -%}
          </button>
        </div>
        <div id="zkh-collection-list">
          <div class="js-product-cl-list" v-if="!(categories.length > 0 && isMobile)">
            <div class="flex-col space-y-5 fb-sm:space-y-6 hidden fb-sm:flex w-full">
              <div class="fb-sm:bg-white fb-sm:py-6 fb-sm:px-7 fb-sm:w-full fb-sm:rounded-sm" :data-spu="item.spu" v-for="(item, itemindex) in spuData" :key="item.spu">
                <div class="w-full p-4 bg-white rounded-sm mb-5 fb-sm:rounded-none fb-sm:p-0 fb-sm:bg-transparent hidden fb-sm:block">
                  <a :href="'/products/' + item.skus[0].skuCode">
                    <h4 :title="item.spuTitle" class="block fb-sm:hidden">
                      <span class="text-main text-13 font-bold">[[item.spuTitle]]</span>
                      <span class="text-666666 text-xs ml-1">([[item.skus.length]] [[item.skus.length > 1 ? 'products' : 'product']])</span>
                    </h4>
                    <div class="flex items-center mt-3 fb-sm:mt-0 gap-3 fb-sm:gap-8 cursor-pointer fb-sm:py-0">
                      <div class="w-[30%] h-auto fb-sm:w-[130px] fb-sm:h-auto flex-shrink-0 flex justify-center items-center" v-if="itemindex < 2">
                        <img 
                          width="130" 
                          height="130" 
                          :alt="item.spuTitle"
                          :src="item.spuImg" 
                          class="w-full mx-auto h-auto"
                        />
                      </div>
                      <div class="w-[30%] h-auto fb-sm:w-[130px] fb-sm:h-auto flex-shrink-0 flex justify-center items-center" v-else>
                        <img 
                          width="130" 
                          height="130" 
                          :alt="item.spuTitle" 
                          class="lazyload w-full mx-auto h-auto" 
                          :data-src="item.spuImg" 
                          :fetchpriority="itemindex < 3 ? 'high' : 'low'"
                          loading="eager"
                        />
                      </div>
                      <div class="flex flex-col">
                        <h2 :title="item.spuTitle" class="hidden fb-sm:block  text-main m-0 font-bold  fb-max-sm:text-14 text-18 hover:underline">[[ item.spuTitle ]]  </h2>
                        <span class="hidden fb-sm:block text-14 text-666666 mt-2 fb-sm:mt-2.5">[[item.skus.length]] [[item.skus.length > 1 ? 'options' : 'option']]</span>
                        <div :title="item.spuDesc" class="hidden fb-sm:line-clamp-2 text-14 mt-5 text-121212">
                          [[ item.spuDesc ]] 
                        </div>
                        <div class="fb-sm:hidden text-14  line-clamp-7 text-main">
                          [[item.spuDesc]]
                        </div>
                      </div>
                    </div>
                  </a>
                </div>
                <div class="w-full" v-if="!isMobile">
                  <div class="mt-5 w-full">
                    <div class="w-full" :style="{'min-height': item.skus.length > skuPageSize ? '272px': 'auto'}">
                      <div class="text-16 font-bold text-121212 justify-between items-center hidden py-1.5 rounded-sm bg-F3F8FC fb-sm:flex w-full mb-1">
                        <div class="flex-1 w-full h-full flex items-center justify-between">
                          <div class="flex-1 flex items-center justify-center text-center px-1" v-for="item2 in item.spuKey" :key="item2">
                            [[item2]]
                          </div>
                          <div class="flex-1 flex items-center justify-center  px-1">
                            <span class="text-right inline-block min-w-[100px] ">
                              Price
                            </span>
                          </div>
                        </div>
                        <div class="w-[148px] flex items-center justify-center text-center">Quantity</div>
                      </div>
                      <div class="w-full hidden fb-sm:block " v-for="(lib, libindex) in getPaginatedSkus(item.spu)" :key="lib.skuCode">
                        <div class="text-16 text-121212 justify-between min-h-10 items-center hidden py-2 fb-sm:flex w-full hover:bg-D3DEF1 hover:rounded-sm group" :data-sku="lib.skuCode">
                            <div class="flex-1 w-full h-full flex items-center justify-between cursor-pointer">
                              <a class="flex-1 flex items-center justify-center text-center px-1 text-14" :href="'/products/' + lib.skuCode"  v-for="(item2, item2index) in item.spuKey" :key="item2">
                                [[ lib.attrMap[item2index][item2] ]]
                              </a>
                              <div class="flex-1 flex items-center justify-center px-1">
                                <span class="text-right inline-block min-w-[100px] text-14 ">
                                  $[[lib.price]]
                                </span>
                              </div>
                            </div>
                            <div class="w-[148px] flex items-center min-h-8 justify-center text-center space-x-2">
                              <div class="w-22 border border-D3DEF1  bg-white rounded-sm h-8 flex justify-between items-center px-1 space-x-0.5">
                                <button 
                                  class="flex justify-center items-center w-4 flex-1" 
                                  @click="decrementQuantity(itemindex,libindex)"
                                  :disabled="lib.quantity <= 1"
                                >
                                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9.17585 6.8436H9.07417H1.20312V9.09247H9.07417H9.17585H14.6964V6.8436H9.17585Z" fill="#092A6F"/>
                                  </svg>
                                </button>
                                <input 
                                  type="text" 
                                  class="font-bold w-10 text-16 outline-none border-none"
                                  v-model.number="lib.quantity" 
                                  @change="validateQuantity(itemindex,libindex)"
                                  :min="lib.moq" 
                                  :max="1000000"
                                >
                                <button 
                                  class="flex justify-center items-center w-4 flex-1" 
                                  @click="incrementQuantity(itemindex, libindex)"
                                  :disabled="lib.quantity >= 1000000"
                                >
                                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9.07417 6.84361V1.22144H6.8253V6.84361H1.20312V9.09248H6.8253V14.7147H9.07417V9.09248H14.6964V6.84361H9.07417Z" fill="#08296F"/>
                                  </svg>
                                </button>
                              </div>
                              <button 
                                class="w-8.5 h-8 rounded-sm flex items-center justify-center text-center group-hover:bg-button" 
                                @click="addToCart(lib.variantId, lib.quantity, itemindex, libindex)"
                                >
                                <span class="cart-container text-main group-hover:text-white" v-if="!lib.selected">
                                  {%- render 'icon' with 'add-cart' -%}
                                </span>
                                <div v-else>
                                  <span class="loading-container">
                                    <svg t="1718343354897" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4307" width="16" height="16">
                                      <path d="M512 170.666667v85.333333a256 256 0 1 1-223.573333 131.2L213.930667 345.6A341.333333 341.333333 0 1 0 512 170.666667z" fill="#000000" opacity=".3" p-id="4308"></path>
                                    </svg>
                                  </span>
                                </div>
                              </button>
                            </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="hidden mt-4 fb-sm:flex justify-end items-center" v-if="item.skus.length > skuPageSize">
                    <el-pagination
                      @current-change="(page) => handleSkuPageChange(item.spu, page)"
                      :current-page="currentSkuPages[item.spu] || 1"
                      :page-size="skuPageSize"
                      :total="item.skus.length"
                      layout="pager">
                    </el-pagination>
                  </div>
                </div>
       
              </div>
            </div>
            <div class="w-full fb-sm:hidden" v-if="mobSpuData && mobSpuData.length > 0 ">
              <div class="fb-sm:hidden grid grid-cols-2 gap-4">
                <div class="w-full" v-for="(lib, libindex) in mobSpuData" :key="'mob' + lib.skuCode">
                  <div :data-sku="lib.skuCode" class="w-full flex flex-col rounded-sm px-3 pb-1.5 bg-white pt-4.5">
                    {% comment %} <div class="favorite-button-wrapper">
                      <button class="favorite-button" :class="{'favorited': lib.isWish}" :data-sku="lib.skuCode" :data-product-id="lib.productId" @click="toggleFavorite(lib, itemindex, libindex)">
                        <svg v-if="lib.isWish" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="20" height="18" viewBox="0 0 20 18">
                          <g><path d="M10.5494,1.67758L9.99759,2.24804L9.44575,1.6751C7.29622,-0.549658,3.79963,-0.559579,1.64046,1.65526L1.62118,1.6751C-0.540394,3.90979,-0.540394,7.52347,1.62118,9.76064L9.10597,17.6155C9.59034,18.1215,10.3807,18.1289,10.8748,17.6329L10.8916,17.6155L18.3788,9.76064C20.5404,7.52595,20.5404,3.91227,18.3788,1.6751C16.2293,-0.549658,12.7327,-0.559579,10.5735,1.65278L10.5494,1.67758Z" fill="#0A3164" fill-opacity="1"></path></g>
                        </svg>
                        <svg v-else xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="21" height="19" viewBox="0 0 21 19">
                          <g><path d="M14.9812,0.000024000000000024002Q12.4828,-0.0071029999999999704,10.7157,1.80356L10.7149,1.80435L10.6908,1.82916L10.49837,2.0281000000000002L10.30587,1.82824Q8.54613,0.006911999999999974,6.04804,0.00033400000000000096Q3.54936,-0.0062470000000000026,1.78244,1.80624L1.76257,1.82668Q0,3.64886,0,6.21694Q0,8.78486,1.76161,10.6081L9.24399,18.4604Q9.75369,18.9929,10.4819,18.9999Q11.2099,19.007,11.729,18.4857L11.7502,18.4639L19.2407,10.6056Q21,8.78687,21,6.2188Q21,3.65088,19.2384,1.82768Q17.4794,0.0071510000000000185,14.9812,0.000024000000000024002ZM11.4314,2.50201L11.4321,2.50121Q12.9036,0.994101,14.9784,1.0000200000000001Q17.0539,1.005941,18.5192,2.52253Q20,4.055070000000001,20,6.2188Q20,8.38237,18.5169,9.91565L11.033,17.7671L11.0205,17.78Q10.7985,18.0029,10.49159,18Q10.18469,17.997,9.96795,17.7706L2.48076,9.91321Q1,8.38067,1,6.21694Q1,4.05337,2.47979,2.52353L2.4984900000000003,2.50429Q3.96996,0.994865,6.0454,1.00033Q8.12073,1.005795,9.58563,2.52197L10.49681,3.46797L11.408,2.52601L11.4314,2.50201Z" fill-rule="evenodd" fill="#0A3164" fill-opacity="1"></path></g>
                        </svg>
                      </button>
                    </div> {% endcomment %}
                      <a :href="'/products/' + lib.skuCode" class="w-full  text-center flex items-center justify-center" style="height: 166px;" >
                        <img 
                          width="130px" 
                          height="166px" 
                          class="w-auto h-full w-full" 
                          :alt="lib.title" 
                          :src="lib.mainPic"
                          v-if="libindex< 2"
                        /> 
                        <img 
                          v-else
                          width="130px" 
                          height="166px" 
                          class="lazyload w-auto h-full w-full"
                          :alt="lib.title" 
                          :data-src="lib.mainPic"
                        /> 
                      </a>
                      <div class="w-full flex justify-between items-center mt-2 hidden">
                        <span class="text-sm font-semibold text-main line-clamp-1">[[lib.brand]]</span>
                        {% comment %} <span class="text-10 text-666666"> [[lib.model]]</span> {% endcomment %}
                      </div>
                      <div class="w-full mt-1">
                        <a :href="'/products/' + lib.skuCode" :title="lib.title" class="text-14 text-333333 mt-2 line-clamp-3 h-16 fb-sm:h-auto">
                          [[lib.title]] 
                      </a>
                      </div>
                    
                    <div class="w-full mt-1.5 hidden">
                      <span class="text-121212 text-22 font-bold">
                        $[[lib.price]]
                      </span>
                    </div>
                    <div class="w-full mt-3.5">
                      <button
                        class="w-full h-8 gap-2.5 rounded-sm px-0 text-sm bg-button  hidden"
                        :data-variant-id="lib.variantId"
                        @click="mobAddToCart(lib.variantId, lib.quantity, libindex)"
                        >
                        <div class="w-full h-full flex items-center justify-center space-x-2" v-if="!lib.selected">
                          <span class="font-bold text-sm text-142A6B">Add to Cart</span>
                        </div>
                        <div v-else class="w-full h-full flex items-center justify-center">
                          <div class="spinner">
                            <svg focusable="false" class="w-4 h-4" width="24" height="24" class="icon icon--spinner" viewBox="25 25 50 50">
                              <circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5"></circle>
                            </svg>
                          </div>
                        </div>
                      </button>

                      <div class="w-full mt-2.5 fb-md:mt-3 flex items-center justify-between pb-3">
                        <div class="w-full flex items-center justify-start fb-md:px-3">
                          <div class="flex item-center">
                            <span class="text-main font-bold text-12 mt-1">
                              $
                            </span>
                            <span class="text-main font-bold text-22 " style="margin:0 3px;" >
                              [[lib.priceWhole]]
                            </span>
                            <span class="text-main font-bold text-12 mt-1">
                              [[lib.priceDecimal]]
                            </span>
                          </div>
                        </div>

                        <button class= "border-none w-7 h-7 fb-flex-center bg-button rounded-sm text-white fb-md:bg-white fb-md:text-main fb-md:group-hover:bg-button fb-md:group-hover:text-white mr-1"  v-if="!lib.selected"  :data-variant-id="lib.variantId"
                        @click="mobAddToCart(lib.variantId, lib.quantity, libindex)" >
                          <span class="flex items-center justify-center px-0.5 fb-md:hidden">
                            <svg width="23" height="22" viewBox="0 0 23 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M6.14221 19.0864C6.52681 19.0865 6.89559 19.2393 7.1676 19.5112C7.4397 19.7833 7.59241 20.1528 7.59241 20.5376C7.59233 20.9223 7.43963 21.291 7.1676 21.563C6.89558 21.835 6.52691 21.9877 6.14221 21.9878C5.75741 21.9878 5.38794 21.8351 5.11584 21.563C4.84395 21.291 4.69111 20.9222 4.69104 20.5376C4.69104 20.1528 4.84375 19.7833 5.11584 19.5112C5.38794 19.2391 5.75741 19.0864 6.14221 19.0864Z" fill="currentColor" stroke="currentColor" stroke-width="0.0234375"/>
                              <path d="M18.4297 19.0864C18.8143 19.0865 19.1831 19.2393 19.4551 19.5112C19.7272 19.7833 19.8799 20.1528 19.8799 20.5376C19.8798 20.9223 19.7271 21.291 19.4551 21.563C19.1831 21.835 18.8144 21.9877 18.4297 21.9878C18.0449 21.9878 17.6754 21.8351 17.4033 21.563C17.1314 21.291 16.9786 20.9222 16.9785 20.5376C16.9785 20.1528 17.1312 19.7833 17.4033 19.5112C17.6754 19.2391 18.0449 19.0864 18.4297 19.0864Z" fill="currentColor" stroke="currentColor" stroke-width="0.0234375"/>
                              <path d="M3.39355 5.94629L4.50488 16.0615L4.55371 16.5068H19.3262L19.3906 16.083L20.9473 5.96777L21.0361 5.3916H3.33301L3.39355 5.94629ZM4.05664 16.8691L4.05371 16.8418L2.38672 1.61328L2.33789 1.16699H0.5V0.5H2.66895C2.67004 0.500135 2.6723 0.500369 2.6748 0.500977C2.67977 0.502179 2.68764 0.504736 2.69824 0.509766C2.72051 0.520415 2.75229 0.541355 2.78711 0.576172C2.85794 0.647163 2.92602 0.75975 2.96094 0.899414L2.98535 0.99707L3.04492 1.07715L5.62012 4.52344L5.77051 4.72363H21.3428C21.4565 4.72368 21.5128 4.74379 21.5352 4.75488C21.5495 4.76208 21.5553 4.76685 21.5625 4.78125L21.5986 4.85352L21.6553 4.91113C21.701 4.95685 21.7125 4.98756 21.7188 5.0127C21.7281 5.05034 21.73 5.0945 21.7305 5.19043L19.959 16.9326L19.9531 16.9697V17.0088C19.953 17.0098 19.9527 17.0116 19.9521 17.0137C19.9511 17.0179 19.9492 17.0242 19.9453 17.0322C19.937 17.0493 19.9211 17.0715 19.8965 17.0938C19.847 17.1383 19.7704 17.1738 19.6748 17.1738H4.33496C4.33138 17.1738 4.30827 17.1725 4.27051 17.1562C4.23341 17.1402 4.19326 17.1148 4.15723 17.082C4.08206 17.0137 4.05677 16.9454 4.05664 16.8965V16.8691Z" fill="currentColor" stroke="currentColor"/>
                              <rect x="8.50024" y="10.2307" width="7.84645" height="1.30775" fill="currentColor" stroke="currentColor" stroke-width="0.5"/>
                              <rect x="11.7692" y="6.96094" width="1.30774" height="7.84649" fill="currentColor" stroke="currentColor" stroke-width="0.5"/>
                            </svg>
                          </span>
                          <span class="hidden fb-md:flex items-center justify-center ">
                            <svg width="23" height="22" viewBox="0 0 23 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M6.14221 19.0864C6.52681 19.0865 6.89559 19.2393 7.1676 19.5112C7.4397 19.7833 7.59241 20.1528 7.59241 20.5376C7.59233 20.9223 7.43963 21.291 7.1676 21.563C6.89558 21.835 6.52691 21.9877 6.14221 21.9878C5.75741 21.9878 5.38794 21.8351 5.11584 21.563C4.84395 21.291 4.69111 20.9222 4.69104 20.5376C4.69104 20.1528 4.84375 19.7833 5.11584 19.5112C5.38794 19.2391 5.75741 19.0864 6.14221 19.0864Z" fill="currentColor" stroke="currentColor" stroke-width="0.0234375"/>
                              <path d="M18.4297 19.0864C18.8143 19.0865 19.1831 19.2393 19.4551 19.5112C19.7272 19.7833 19.8799 20.1528 19.8799 20.5376C19.8798 20.9223 19.7271 21.291 19.4551 21.563C19.1831 21.835 18.8144 21.9877 18.4297 21.9878C18.0449 21.9878 17.6754 21.8351 17.4033 21.563C17.1314 21.291 16.9786 20.9222 16.9785 20.5376C16.9785 20.1528 17.1312 19.7833 17.4033 19.5112C17.6754 19.2391 18.0449 19.0864 18.4297 19.0864Z" fill="currentColor" stroke="currentColor" stroke-width="0.0234375"/>
                              <path d="M3.39355 5.94629L4.50488 16.0615L4.55371 16.5068H19.3262L19.3906 16.083L20.9473 5.96777L21.0361 5.3916H3.33301L3.39355 5.94629ZM4.05664 16.8691L4.05371 16.8418L2.38672 1.61328L2.33789 1.16699H0.5V0.5H2.66895C2.67004 0.500135 2.6723 0.500369 2.6748 0.500977C2.67977 0.502179 2.68764 0.504736 2.69824 0.509766C2.72051 0.520415 2.75229 0.541355 2.78711 0.576172C2.85794 0.647163 2.92602 0.75975 2.96094 0.899414L2.98535 0.99707L3.04492 1.07715L5.62012 4.52344L5.77051 4.72363H21.3428C21.4565 4.72368 21.5128 4.74379 21.5352 4.75488C21.5495 4.76208 21.5553 4.76685 21.5625 4.78125L21.5986 4.85352L21.6553 4.91113C21.701 4.95685 21.7125 4.98756 21.7188 5.0127C21.7281 5.05034 21.73 5.0945 21.7305 5.19043L19.959 16.9326L19.9531 16.9697V17.0088C19.953 17.0098 19.9527 17.0116 19.9521 17.0137C19.9511 17.0179 19.9492 17.0242 19.9453 17.0322C19.937 17.0493 19.9211 17.0715 19.8965 17.0938C19.847 17.1383 19.7704 17.1738 19.6748 17.1738H4.33496C4.33138 17.1738 4.30827 17.1725 4.27051 17.1562C4.23341 17.1402 4.19326 17.1148 4.15723 17.082C4.08206 17.0137 4.05677 16.9454 4.05664 16.8965V16.8691Z" fill="currentColor" stroke="currentColor"/>
                              <rect x="8.50024" y="10.2307" width="7.84645" height="1.30775" fill="currentColor" stroke="currentColor" stroke-width="0.5"/>
                              <rect x="11.7692" y="6.96094" width="1.30774" height="7.84649" fill="currentColor" stroke="currentColor" stroke-width="0.5"/>
                            </svg>
                          </span>
                        </button>
                        <el-button  v-else :loading="lib.selected"  class="h-4 w-4 rounded-sm px-3  text-main text-sm bg-button border-none flex items-center justify-center mr-2"> </el-button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex-col justify-center text-center my-12"
              :class="(spuData.length <= 0 &&!isLoading)? 'flex' : 'hidden'"
            >
              {%- if collection.all_products_count == 0 -%}
                <h3 class="heading h4">{{ 'collection.general.empty_title' | t }}</h3>
                <p class="my-5">{{ 'collection.general.empty_label' | t }}</p>
                <div class="w-full h-auto fb-flex-center">
                  <a href="{{ routes.all_products_collection_url }}" class="px-6 rounded py-2 bg-button font-bold text-base text-121212">
                    {{- 'collection.general.empty_button' | t -}}
                  </a>
                </div>
              {%- else -%}
                <h3 class="heading h4">{{ 'collection.general.no_results_title' | t }}</h3>
                <p class="my-5">{{ 'collection.general.no_results_label' | t }}</p>
                <div class="w-full h-auto fb-flex-center">
                  <a
                    href="{{ collection.url }}?sort_by={{ collection_sort_by }}"
                    class="px-6 rounded py-2 bg-button font-bold text-base text-121212"
                  >
                    {{- 'collection.general.no_results_button' | t -}}
                  </a>
                </div>
              {%- endif -%}
            </div>
          </div>
          <div class="virtual-scroll-loading" v-if="isLoading">
            <div class="loading-container">
              <svg t="1718343354897" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4307" width="16" height="16">
                <path d="M512 170.666667v85.333333a256 256 0 1 1-223.573333 131.2L213.930667 345.6A341.333333 341.333333 0 1 0 512 170.666667z" fill="#000000" opacity=".3" p-id="4308"></path>
              </svg>
            </div>
          </div>
        </div>
    </div>
  </product-facet-spu>
  <div id="keep-collection-style"
  class="h-13 fb-sm:h-25"
  data-handle="{{ collection.handle }}"
  data-title="{{ collection.title }}"
  data-product-count="{{ collection.products_count }}"
  >
  </div>
  <div class="hidden js-hidden-content">
    {% paginate collection.products by 50 %}
      {%- for product in collection.products -%}
        {%- render 'index-product-item', product: product -%}
      {%- endfor -%}
    {% endpaginate %}
  </div>
</section>

{% schema %}
{
  "name": "Collection vuepage",
  "class": "shopify-section--main-collection",
  "settings": [
    {
      "type": "text",
      "id": "collection_title",
      "label": "collection title"
    },
    {
      "type": "checkbox",
      "id": "show_sort_by",
      "label": "Show sort by",
      "default": true
    },
    {
      "type": "header",
      "content": "Filters"
    },
    {
      "type": "checkbox",
      "id": "show_filters",
      "label": "Show filters",
      "info": "[Customize filters](/admin/menus)",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_filter_group_name",
      "label": "Show group name",
      "info": "Group name will be shown inside selected filters.",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "show_color_swatch",
      "label": "Show filter color swatch",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "open_first_filter_group",
      "label": "Open first group by default",
      "default": false
    },
    {
      "type": "select",
      "id": "filter_position",
      "label": "Position",
      "options": [
        {
          "value": "always_visible",
          "label": "Always visible"
        },
        {
          "value": "drawer",
          "label": "Drawer"
        }
      ],
      "default": "always_visible"
    },
    {
      "type": "header",
      "content": "Promotion blocks",
      "info": "Add extra information to push other collections or products."
    },
    {
      "type": "select",
      "id": "promotion_position",
      "label": "Position",
      "options": [
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "bottom",
          "label": "Bottom"
        }
      ],
      "default": "top"
    },
    {
      "type": "select",
      "id": "promotion_height",
      "label": "Block height",
      "options": [
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        }
      ],
      "default": "small"
    }
  ]
}
{% endschema %}