
<div id="ruledialog" class="hidden w-full h-screen bg-black/50 fixed top-0 left-0 z-[999]">
  <div class="w-full h-full flex items-center justify-center">
    <div class="js-rule-dialogcontent w-[90%] max-h-[80%] bg-white relative py-4 px-4 rounded-sm fb-sm:px-6  fb-sm:py-6 fb-sm:w-36r fb-sm:max-h-[80%] flex flex-col">
      <div class="w-full border-b border-D3DEF1 pb-4 flex items-center justify-between">
         <p class="text-16 text-main  fb-sm:text-18 text-center font-bold">
            <span data-type="1">
              Speedy Delivery
            </span>
            <span data-type="2">
              Hassle-Free Returns
            </span>
            <span data-type="3">
              Quality Guaranteed 
            </span>
            <span data-type="4">
              Flexible Payment
            </span>
          </p>
          <span  class="js-close-ruledialog w-5 h-5 cursor-pointer fb-sm:w-6 fb-sm:h-6 fb-sm:right-4 fb-sm:top-4">
            {%- render 'icon' with 'close' -%}
          </span>
      </div>
      <div class="pt-5  overflow-y-auto overflow-x-hidden flex-1 text-left">
        <div class="flex flex-col space-y-4 w-full text-14 fb-sm:text-16 text-1E1E1E" data-type="1">
          <p>
              Enjoy free standard ground shipping on orders of $75+, with some exceptions for oversized items. Orders under $75 incur a flat $5 fee for shipping and handling. 
          </p>
          <p>
            Orders placed by 2:30 PM local time typically ship the same day, with delivery expected in 1-2 days. Orders placed after 2:30 PM will ship the next day, with delivery expected in 2-3 days.
          </p>
        </div>
        <div class="flex flex-col space-y-4 w-full text-14 fb-sm:text-16 text-1E1E1E" data-type="2">
          <p>
              Most items are eligible for return within 30 days, with NorthSky covering all return shipping costs. 
          </p>
          <p>
            Products must be in new condition, and additional details or photos may be requested. Returns that don’t meet the criteria may face fees, be ineligible for a refund or qualify for store credit. 
          </p>
          <p>
            Once you’ve initiated a return from the “My Orders” section in your account, you will receive a confirmation email with a return shipping label and instructions. 
          </p>
          <p>
            Refunds are issued to the original payment method upon receipt and approval of the returned items.  
          </p>
        </div>
        <div class="flex flex-col space-y-4 w-full text-14 fb-sm:text-16 text-1E1E1E" data-type="3">
          <p>
            There’s no room for error, in your work or in ours. That’s why we’ve crafted an extensive network of global manufacturers as obsessed with excellence as we are. And our quality control measures are unmatched, with every one of our products undergoing detailed inspection and stringent testing.
          </p>
        </div>
        <div class="flex flex-col space-y-4 w-full text-14 fb-sm:text-16 text-1E1E1E" data-type="4">
          <p>
            Interested in exploring alternate payment terms? We work with our customers to ensure purchasing and payment is as simple and as smooth as possible. Learn more and <a class="text-main" href="/pages/net-30-terms-application">apply here</a> today.
          </p>
        </div>
        <div class="w-full mt-5">
          <p class="text-main flex items-center space-x-1">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M11.6602 12.876C8.9895 12.8767 7.35216 12.876 6.74816 12.8734C6.70219 12.8704 6.6562 12.8787 6.61416 12.8976C6.57212 12.9164 6.53528 12.9451 6.50683 12.9814C6.13216 13.412 5.59816 14.0214 4.90416 14.8094C4.83009 14.8935 4.73597 14.9577 4.63053 14.9958C4.52509 15.034 4.41172 15.0449 4.30093 15.0277C4.19013 15.0104 4.08549 14.9654 3.99667 14.897C3.90786 14.8285 3.83775 14.7388 3.79283 14.636C3.55227 14.0871 3.3136 13.5373 3.07683 12.9867C3.03816 12.896 2.9915 12.8734 2.89816 12.8734C2.6735 12.876 2.37416 12.8767 2.00016 12.8767C1.82335 12.8767 1.65378 12.8064 1.52876 12.6814C1.40373 12.5564 1.3335 12.3868 1.3335 12.21V5.15002C1.3335 4.97321 1.40373 4.80364 1.52876 4.67861C1.65378 4.55359 1.82335 4.48335 2.00016 4.48335H11.6602C11.837 4.48335 12.0065 4.55359 12.1316 4.67861C12.2566 4.80364 12.3268 4.97321 12.3268 5.15002V12.2094C12.3268 12.3862 12.2566 12.5557 12.1316 12.6808C12.0065 12.8058 11.837 12.876 11.6602 12.876ZM11.1128 11.6767V5.68469L2.66016 5.68869V11.68L3.31816 11.676C3.5755 11.676 3.72283 11.6867 3.75883 11.7074C3.79416 11.7307 4.0055 12.234 4.39216 13.218C4.40061 13.2392 4.41434 13.2579 4.43205 13.2722C4.44977 13.2866 4.47087 13.2962 4.49334 13.3C4.51581 13.3039 4.5389 13.302 4.56041 13.2944C4.58191 13.2868 4.60111 13.2738 4.61616 13.2567C5.2075 12.5854 5.64283 12.0934 5.9215 11.7807C5.95216 11.746 6.01883 11.712 6.12083 11.68L11.1122 11.6767H11.1128ZM5.3335 8.00002H8.3955C8.48305 8.00001 8.56975 8.01724 8.65065 8.05074C8.73154 8.08423 8.80505 8.13334 8.86697 8.19524C8.92888 8.25715 8.978 8.33065 9.01151 8.41154C9.04502 8.49243 9.06226 8.57913 9.06226 8.66669C9.06226 8.75424 9.04502 8.84094 9.01151 8.92183C8.978 9.00272 8.92888 9.07622 8.86697 9.13813C8.80505 9.20003 8.73154 9.24914 8.65065 9.28263C8.56975 9.31613 8.48305 9.33337 8.3955 9.33335H5.3335C5.1567 9.33332 4.98716 9.26308 4.86216 9.13805C4.73716 9.01303 4.66693 8.84348 4.66693 8.66669C4.66693 8.48989 4.73716 8.32034 4.86216 8.19532C4.98716 8.0703 5.1567 8.00005 5.3335 8.00002ZM14.0002 10.4967H13.2495C13.2057 10.4967 13.1624 10.4881 13.1219 10.4713C13.0815 10.4546 13.0447 10.43 13.0138 10.3991C12.9828 10.3681 12.9583 10.3314 12.9415 10.2909C12.9248 10.2505 12.9162 10.2071 12.9162 10.1634V9.63869C12.9162 9.59491 12.9248 9.55157 12.9415 9.51112C12.9583 9.47068 12.9828 9.43394 13.0138 9.40298C13.0447 9.37203 13.0815 9.34748 13.1219 9.33073C13.1624 9.31397 13.2057 9.30535 13.2495 9.30535H13.4522V3.22269H5.55216V3.48002C5.55216 3.56842 5.51704 3.65321 5.45453 3.71572C5.39202 3.77823 5.30723 3.81335 5.21883 3.81335H4.6855C4.59709 3.81335 4.51231 3.77823 4.44979 3.71572C4.38728 3.65321 4.35216 3.56842 4.35216 3.48002V2.66935C4.35216 2.49254 4.4224 2.32297 4.54742 2.19795C4.67245 2.07292 4.84202 2.00269 5.01883 2.00269H14.0002C14.177 2.00269 14.3465 2.07292 14.4716 2.19795C14.5966 2.32297 14.6668 2.49254 14.6668 2.66935V9.83002C14.6668 10.0068 14.5966 10.1764 14.4716 10.3014C14.3465 10.4264 14.177 10.4967 14.0002 10.4967Z" fill="#FABE00"/>
            </svg>
            <strong>Contact Us</strong></p>
          <ul class="w-full ml-1">
            <li class="list-disc text-1E1E1E mt-1.5">
                <strong>Email:</strong> 
                <span id="contact-email" class="js-copy-email mx-1">customerservice@northskysupply.com</span>
                <button  class="js-copy-email w-4 h-4 hover:opacity-80" title="Copy email">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#FABE00" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                  </svg>
                </button>
            </li>
            {%- assign phone = '1-800-805-6686' -%}
            <li class="list-disc text-1E1E1E mt-0.5 "> 
              <strong>Phone:</strong> 
              <a href="tel:{{ phone }}" class="hover:text-main fb-sm:hidden">{{ phone }}</a>
              <span class="hidden fb-sm:inline">{{ phone }}</span>
            </li>
            <li class="list-disc text-1E1E1E mt-0.5">
              <strong>Hours:</strong> Monday–Friday, 7 AM–7 PM CST
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  $(function() {
    const $rule_dialog = $('#ruledialog');
    const $rule_dialogContent = $('.js-rule-dialogcontent');
    const $rule_closeButtons = $('.js-close-ruledialog'); 
    const $body = $('body');
    let isScrollLocked = false;

    function lockScroll() {
      if (!isScrollLocked) {
        const scrollY = window.scrollY;
        $body.css({
          'position': 'fixed',
          'top': `-${scrollY}px`,
          'left': '0',
          'right': '0',
          'bottom': '0'
        });
        isScrollLocked = true;
      }
    }

    function unlockScroll() {
      if (isScrollLocked) {
        const scrollY = parseInt($body.css('top')) * -1;
        $body.css({
          'position': '',
          'top': '',
          'left': '',
          'right': '',
          'bottom': ''
        });
        window.scrollTo(0, scrollY);
        isScrollLocked = false;
      }
    }

    function closeDialog() {
      $rule_dialog.hide();
      unlockScroll();
    }
    function showDialogContent(dataType) {
      // Hide all title spans and content divs
      $rule_dialogContent.find('[data-type]').hide();
      
      // Show the matching title and content based on data-type
      $rule_dialogContent.find(`[data-type="${dataType}"]`).show();
    }
    $rule_dialog.on('click', function(event) {
      if(!$rule_dialogContent.is(event.target) && $rule_dialogContent.has(event.target).length === 0) {
        closeDialog();
      }
    });
    $rule_closeButtons.on('click', function() {
      closeDialog(); 
    });
    $('body').on('click', '.js-open-rule-dialog', function () {
      const dataType = $(this).attr('data-type');
      if (dataType) {
        showDialogContent(dataType);
      }
      $rule_dialog.show();
      lockScroll();
    });
    $('.js-copy-email').click(function() {
        const email = document.getElementById('contact-email').textContent;
        navigator.clipboard.writeText(email).then(() => {
          MsgBox && MsgBox.init('Email copied to clipboard!', 2000)
        }).catch(err => {
          MsgBox && MsgBox.init('Copy failed!', 2000)
        });
    })
  })
</script>
